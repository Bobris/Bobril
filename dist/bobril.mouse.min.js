var Coord=function(){function t(t,o){this.x=t,this.y=o}return t.prototype.hit=function(o,e){return Math.abs(this.x-o)<t.CLICKBUSTER_THRESHOLD&&Math.abs(this.y-e)<t.CLICKBUSTER_THRESHOLD},t.CLICKBUSTER_THRESHOLD=50,t}(),CoordList=function(){function t(){this.coords=[]}return t.prototype.containsTouchedRegion=function(t,o,e){for(var n=0;n<this.coords.length;n+=1)if(this.coords[n].hit(t,o))return e&&this.coords.splice(n,1),!0;return!1},t.prototype.push=function(t,o){this.coords.push(new Coord(t,o))},t.prototype.remove=function(t,o){for(var e=0;e<this.coords.length;e+=1)if(this.coords[e].x==t&&this.coords[e].y==o)return void this.coords.splice(e,1)},t}();!function(t){function o(t){var o=t.touches&&t.touches.length?t.touches:[t],e=t.changedTouches&&t.changedTouches[0]||t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||o[0].originalEvent||o[0];return{x:e.clientX,y:e.clientY}}function e(t){if(T()-C>b)return!1;var o=t.touches&&t.touches.length?t.touches:[t],e=o[0].clientX,n=o[0].clientY;return 1>e&&1>n?!1:d&&d[0]===e&&d[1]===n?!1:(d&&(d=null),"label"===t.target.tagName.toLowerCase()&&(d=[e,n]),M.containsTouchedRegion(e,n,"click"==t.type)?(E(t),t.target&&t.target.blur(),!0):!1)}function n(t){var o=t.touches&&t.touches.length?t.touches:[t],e=o[0].clientX,n=o[0].clientY;return M.push(e,n),setTimeout(function(){M.remove(e,n)},b),!1}function r(t,o){y=!0,v=o,3==v.nodeType&&(v=v.parentNode),g=T();var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].originalEvent||e[0];return p=n.clientX,m=n.clientY,!1}function u(t,o,e){var n=T()-g,r=t.changedTouches&&t.changedTouches.length?t.changedTouches:t.touches&&t.touches.length?t.touches:[t],u=r[0].originalEvent||r[0],s=u.clientX,h=u.clientY,a=Math.sqrt(Math.pow(s-p,2)+Math.pow(h-m,2)),l=!1;if(y&&w>n&&L>a){C=T(),v&&v.blur();var f=e.attrs&&e.attrs.disabled;(void 0===f||f===!1)&&(l=c(t,o,e,s,h))}return i(),l}function c(o,e,n,r,u){return n&&t.bubble(n,"onClick",{x:r,y:u})?(E(o),!0):!1}function i(){y=!1}function s(){return i(),!1}function h(t){var e=o(t);return{x:e.x,y:e.y}}function a(o){return function(e,n,r){if(!r)return!1;var u=h(e);return t.bubble(r,o,u)?(E(e),!0):!1}}function l(t){for(var o=t.fromElement,e=t.toElement;e;)if(e=e.parentElement,e==o)return!1;return!0}function f(t,o){return function(e,n,r){if(!r)return!1;var u=h(e),c=r.component;if(c){if(o&&!o(e))return!1;var i=c[t];i&&i.call(c,r.ctx,u)}return!1}}var d,v,g,p,m,E=t.preventDefault,T=t.now,b=2500,C=0,M=new CoordList,y=!1,w=750,L=12,x=t.addEvent;x("mousedown",1,e),x("mouseup",1,e),x("click",1,e),x("touchstart",2,n),x("mouseover",300,f("onMouseEnter")),x("mouseout",300,f("onMouseLeave",l)),x("click",400,a("onClick")),x("dblclick",400,a("onDoubleClick")),x("mousedown",400,a("onMouseDown")),x("touchstart",400,a("onMouseDown")),x("mouseup",400,a("onMouseUp")),x("touchend",400,a("onMouseUp")),x("mousemove",400,a("onMouseMove")),x("mouseover",400,a("onMouseOver")),x("touchstart",500,r),x("touchcancel",500,s),x("touchend",500,u),x("touchmove",500,s)}(b);