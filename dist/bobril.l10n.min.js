!function(t,e,n){function o(t){return new Promise(function(e,o){var a=n.createElement("script");a.type="text/javascript",a.charset="utf-8",a.onload=function(){e()},a.onerror=function(){o("Failed to load "+t)},a.src=t,n.head.appendChild(a)})}function a(t,e){if(0===m.length)throw Error("before using t you need to wait for initialization of l10n");var n;if("number"==typeof t){if(n=g[t],void 0===n){var o=d[t];if(void 0===o)throw Error("message "+t+" is not defined");n=new IntlMessageFormat(o,m),g[t]=n}}else n=T[t],void 0===n&&(n=new IntlMessageFormat(t,m),T[t]=n);return n.format(e)}function r(n){if(h)throw Error("initLocalization must be called only once");c=n,h=!0;var a=Promise.resolve(null);return e.Intl||(p=!0,n.pathToIntlJs&&(a=Promise.all([a,o(n.pathToIntlJs)]))),n.pathToIntlMessageFormatJs&&(a=Promise.all([a,o(n.pathToIntlMessageFormatJs)])),a=a.then(function(){return i(n.defaultLocale||"en")}),t.setBeforeInit(function(t){a.then(t)}),a}function i(t){var e=Promise.resolve(null);return m===t?e:(u[t]||(u[t]=!0,e=Promise.all([p&&c.pathToIntlLocaleDataJsonp&&o(c.pathToIntlLocaleDataJsonp+t+".js"),c.pathToIntlMessageFormatLocaleData&&o(c.pathToIntlMessageFormatLocaleData+t.substring(0,2)+".js"),c.pathToTranslation&&o(c.pathToTranslation(t))])),e=e.then(function(){m=t,d=f[t],g=[],g.length=d.length}))}function l(){return m}function s(t,e){f[t]=e}var c={},u=Object.create(null),f=Object.create(null),h=!1,p=!1,m="",d=[],g=[],T=Object.create(null);t.jsonp=o,t.t=a,t.initLocalization=r,t.setLocale=i,t.getLocale=l,t.registerTranslations=s,e.bobrilRegisterTranslations=s}(b,window,document);