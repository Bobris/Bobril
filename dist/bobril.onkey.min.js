!function(e){function r(e){return{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey||!1,which:e.which||e.keyCode}}function n(n,t,u){if(!u)return!1;var o=r(n);return e.bubble(u,"onKeyDown",o)?(i(n),!0):!1}function t(n,t,u){if(!u)return!1;var o=r(n);return e.bubble(u,"onKeyUp",o)?(i(n),!0):!1}function u(r,n,t){if(!t)return!1;if(0===r.which)return!1;var u={charCode:r.which||r.keyCode};return e.bubble(t,"onKeyPress",u)?(i(r),!0):!1}var i=e.preventDefault,o=e.addEvent;o("keydown",500,n),o("keyup",500,t),o("keypress",500,u)}(b);