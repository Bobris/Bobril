!function(t,n,e){function o(t){return new Promise(function(n,o){var a=e.createElement("script");a.type="text/javascript",a.charset="utf-8",a.onload=function(){n()},a.onerror=function(){o("Failed to load "+t)},a.src=t,e.head.appendChild(a)})}function a(t){var n=g[t];if(void 0===n)throw Error("message "+t+" is not defined");return n}function r(t,n){if(0===d.length)throw Error("before using t you need to wait for initialization of l10n");var e;if("number"==typeof t){if(null==n)return a(t);e=T[t],void 0===e&&(e=new IntlMessageFormat(a(t),d),T[t]=e)}else{if(null==n)return t;e=v[t],void 0===e&&(e=new IntlMessageFormat(t,d),v[t]=e)}return e.format(n)}function l(e){if(p)throw Error("initLocalization must be called only once");c=e,p=!0;var a=Promise.resolve(null);return n.Intl||(m=!0,e.pathToIntlJs&&(a=Promise.all([a,o(e.pathToIntlJs)]))),e.pathToIntlMessageFormatJs&&(a=Promise.all([a,o(e.pathToIntlMessageFormatJs)])),a=a.then(function(){return i(e.defaultLocale||"en")}),t.setBeforeInit(function(t){a.then(t)}),a}function i(t){var n=Promise.resolve(null);return d===t?n:(f[t]||(f[t]=!0,n=Promise.all([m&&c.pathToIntlLocaleDataJsonp&&o(c.pathToIntlLocaleDataJsonp+t+".js"),c.pathToIntlMessageFormatLocaleData&&o(c.pathToIntlMessageFormatLocaleData+t.substring(0,2)+".js"),c.pathToTranslation&&o(c.pathToTranslation(t))])),n=n.then(function(){d=t,g=h[t],T=[],T.length=g.length}))}function s(){return d}function u(t,n){h[t]=n}var c={},f=Object.create(null),h=Object.create(null),p=!1,m=!1,d="",g=[],T=[],v=Object.create(null);t.jsonp=o,t.t=r,t.initLocalization=l,t.setLocale=i,t.getLocale=s,t.registerTranslations=u,n.bobrilRegisterTranslations=u}(b,window,document);