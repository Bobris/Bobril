!function(e,n,t){function o(e){return Y===e}function r(){return D}function i(e){Y=e}function u(){Y=null}function c(e,n){if(null==Y)return!1;var t=Y.me.component[e];if(!t)return!1;D=!0;var o=t(Y,n);return D=!1,o}function l(e){return e&&e.style&&"none"===e.style.pointerEvents}function f(n){var t=e.deref(n);return l(t)}function s(e){if(e.length){for(var n=e.length-1;n>=0;--n)e[n].t.style.visibility=e[n].p;return!0}return!1}function v(e,n){e.push({t:n,p:n.style.visibility}),n.style.visibility="hidden"}function a(n,o){for(var r=[],i=o;f(i);)v(r,i),i=t.elementFromPoint(n.x,n.y);if(s(r)){try{e.ieVersion()<9?i.fireEvent("on"+n.type,n):i.dispatchEvent(n)}catch(u){return!1}return T(n),!0}return!1}function d(e,n){U(e,50,n)}function m(e){return"mouse"==e?0:"pen"==e?2:1}function p(n,o,r,i){for(var u=[],c=r;l(i);)v(u,c),c=t.elementFromPoint(n,o),i=e.deref(c);return s(u),[c,i]}function y(n){return function(t,o,r){if(l(r)){var i=p(t.x,t.y,o,r);o=i[0],r=i[1]}var u={id:t.pointerId,type:m(t.pointerType),x:t.clientX,y:t.clientY};return e.emitEvent("!"+n,u,o,r)?(T(t),!0):!1}}function h(n){return function(t,o,r){for(var i=!1,u=0;u<t.changedTouches.length;u++){var c=t.changedTouches[u],l={id:c.identifier+2,type:1,x:c.clientX,y:c.clientY};e.emitEvent("!"+n,l,o,r)&&(i=!0)}return i?(T(t),!0):!1}}function g(n){return function(t,o,r){if(l(r)){var i=p(t.x,t.y,o,r);o=i[0],r=i[1]}var u={id:1,type:0,x:t.clientX,y:t.clientY};return e.emitEvent("!"+n,u,o,r)?(T(t),!0):!1}}function b(e,n,t){return Math.abs(e-n)<t}function w(e){return-1===q&&0===Object.keys(I).length&&(q=e.id,z=H(),A=e.x,B=e.y,G=!1),I[e.id]=e.type,q!==e.id&&(G=!0),!1}function M(e){return q===e.id&&(b(A,e.x,13)&&b(B,e.y,13)||(G=!0)),!1}function x(n,t,o){if(delete I[n.id],q==n.id&&(q=-1,!G&&H()-z<750)){e.emitEvent("!PointerCancel",n,t,o);var r={x:n.x,y:n.y};if(c(L,r)||e.bubble(o,L,r))return S.push([n.x,n.y,H()+500]),!0}return!1}function P(e){return delete I[e.id],q==e.id&&(q=-1),!1}function E(e){for(var n=H(),t=0;t<S.length;t++){var o=S[t];if(o[2]<n)S.splice(t,0),t--;else if(b(o[0],e.x,50)&&b(o[1],e.y,50))return S.splice(t,0),!0}return!1}function k(e){return{x:e.clientX,y:e.clientY}}function O(n){for(var t=k(n),o=e.vdomPath(n.target),r=0;r<J.length&&r<o.length&&J[r]===o[r];)r++;for(var i,u,c=J.length;c>r;)c--,i=J[c],i&&(u=i.component,u&&u.onMouseLeave&&u.onMouseLeave(i.ctx,t));for(;c<o.length;)i=o[c],i&&(u=i.component,u&&u.onMouseEnter&&u.onMouseEnter(i.ctx,t)),c++;return J=o,!1}function C(n,t){return function(o,r,i){var u=k(o);return console.log(n,null!=Y),(t?!1:c(n,u))||e.bubble(i,n,u)?(T(o),!0):!1}}var D,X,Y=null,L="onClick",T=e.preventDefault,U=e.addEvent,V=["PointerDown","PointerMove","PointerUp","PointerCancel"];if(e.ieVersion()&&e.ieVersion()<11){var j=["click","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","scroll","wheel"];for(X=0;X<j.length;++X)U(j[X],1,a)}if(void 0!==n.onpointerdown)for(X=0;4>X;X++)!function(e){d(e.toLowerCase(),y(e))}(V[X]);else if(void 0!==n.onmspointerdown)for(X=0;4>X;X++)!function(e){d("MS"+e,y(e))}(V[X]);else void 0!==n.ontouchstart&&(d("touchstart",h(V[0])),d("touchmove",h(V[1])),d("touchend",h(V[2])),d("touchcancel",h(V[3]))),d("mousedown",g(V[0])),d("mousemove",g(V[1])),d("mouseup",g(V[2]));for(var F=0;4>F;F++)!function(n){var t="on"+n;U("!"+n,50,function(n,o,r){return c(t,n)||e.bubble(r,t,n)})}(V[F]);for(var I=Object.create(null),S=[],q=-1,z=0,A=0,B=0,G=!1,H=e.now,J=[],K=["!PointerDown","!PointerMove","!PointerUp","!PointerCancel","click","mouseover"],N=[w,M,x,P,E,O],X=0;6>X;X++)U(K[X],30,N[X]);d("mousedown",C("onMouseDown")),d("mouseup",C("onMouseUp")),d("mousemove",C("onMouseMove")),d("click",C(L)),d("dblclick",C("onDoubleClick")),d("mouseover",C("onMouseOver",1)),e.registerMouseOwner=i,e.isMouseOwner=o,e.isMouseOwnerEvent=r,e.releaseMouseOwner=u}(b,window,document);