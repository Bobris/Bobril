"undefined"==typeof DEBUG&&(DEBUG=!0),Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(a),o=0;a>o;){var l,f;o in i&&(l=i[o],f=e.call(n,l,o,i),r[o]=f),o++}return r}),b=function(e,t){function n(e,t){if(DEBUG&&!e)throw Error(t||"assertion failed")}function r(e,n,r,o){if(!r)return t;for(var i in r){var a=r[i],l=o[i];if(l===t||l!==a)if(o[i]=a,"style"===i){var f;if(l){for(f in a){var c=a[f];l[f]!==c&&(n.style[f]=c)}for(f in l)f in a||(n.style[f]="")}else for(f in a)n.style[f]=a[f]}else if(U)"href"===i?n.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===i?n.setAttribute("class",a):n.setAttribute(i,a);else if("value"===i&&i in n){var u=n[i];l===t&&(e.ctx.b$value=a),a!==u&&(l===t||u===l?n[i]=a:b("input",null,n,e))}else i in n&&"list"!=i&&"form"!=i?n[i]=a:n.setAttribute(i,a)}return o}function o(t){var n=t;n.component&&(n.ctx={},n.component.init&&n.component.init(n.ctx,t));var o=U;return""===t.tag?(n.element=e.document.createTextNode(""+n.content),n):("svg"===t.tag?(n.element=e.document.createElementNS("http://www.w3.org/2000/svg",t.tag),U=!0):n.element=e.document.createElement(t.tag),a(n),n.attrs=r(n,n.element,n.attrs,{}),U=o,c(n),n)}function i(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t?{tag:"",content:e}:e}function a(e){var t=e.children;if(t){j(t)||(t=[t]);for(var n=0,r=t.length;r>n;){var a=t[n];if(j(a))t.splice.apply(t,[n,1].concat(a)),r=t.length;else{var l=t[n]=o(i(a));e.element.appendChild(l.element),n++}}e.children=t}}function l(e){var t=e.children;if(t)for(var n=0,r=t.length;r>n;n++)l(t[n]);e.component&&e.component.destroy&&e.component.destroy(e.ctx,e,e.element),""!==e.tag&&(e.element[B]=null)}function f(e){l(e);var t=e.element.parentNode;t&&t.removeChild(e.element)}function c(e){e.element[B]=e;var t=e.component;t&&t.postInitDom&&(G.push(!1),O.push(e))}function u(e){var t=e.component;t&&t.postUpdateDom&&(G.push(!0),O.push(e))}function s(e){return e[B]}function p(e,t){if(e.component&&e.component.shouldChange&&!e.component.shouldChange(t.ctx,e,t))return t;if(e.tag===t.tag)if(""===e.tag){if(t.content===e.content)return t;if(t.content=e.content,"textContent"in t.element)return t.element.textContent=""+t.content,t}else{var n=U;if("svg"===e.tag&&(U=!0),!e.attrs&&!t.attrs)return v(e,t),U=n,u(t),t;if(e.attrs&&t.attrs&&T(e.attrs).join()===T(t.attrs).join()&&e.attrs.id===t.attrs.id)return v(e,t),t.attrs=r(t,t.element,e.attrs,t.attrs),U=n,u(t),t;U=n}var i=o(e),a=t.element.parentNode;return a&&a.insertBefore(i.element,t.element),f(t),i}function m(){for(var e=O.length,t=0;e>t;t++){var n;G[t]?(n=O[t],n.component.postUpdateDom(n.ctx,n,n.element)):(n=O[t],n.component.postInitDom(n.ctx,n,n.element))}G=[],O=[]}function v(e,t){t.children=d(t.element,e.children,t.children)}function d(e,r,a){r=r||[],j(r)||(r=[r]),a=a||[];for(var l=r.length,c=a.length,u=c>l?l:c,s=0;l>s;){var m=r[s];j(m)?(r.splice.apply(r,[s,1].concat(m)),l=r.length):(r[s]=i(m),s++)}for(s=0;u>s&&r[s].key===a[s].key;s++)a[s]=p(r[s],a[s]);if(s===u){for(;l>s;)a.push(o(r[s])),e.appendChild(a[s].element),s++;for(;c>s;)c--,f(a[c]),a.pop()}else{var v,d,h,y={},g={},b=s,k=0;for(v=b;c>v;v++)h=a[v],d=h.key,d===t||d in y?k--:y[d]=v;for(;l>s;s++)h=r[s],d=h.key,d===t||d in g?k++:g[d]=s;var w=0;s=b,v=b;for(var x;c>v&&l>s;)if(null!==a[v])if(x=a[v].key){if(d=r[s].key,!d){for(s++;l>s&&!(d=r[s].key););if(!d)break}var E=y[d];E!==t?x in g?v===E+w?(a[v]=p(r[s],a[v]),s++,v++):(a.splice(v,0,a[E+w]),w++,a[E+w]=null,e.insertBefore(a[v].element,a[v+1].element),a[v]=p(r[s],a[v]),v++,c++,s++):(f(a[v]),a.splice(v,1),w--,c--):(a.splice(v,0,o(r[s])),e.insertBefore(a[v].element,a[v+1].element),w++,s++,v++,c++)}else v++;else a.splice(v,1),c--,w--;for(;c>v;)null!==a[v]?a[v].key?(f(a[v]),a.splice(v,1),c--):v++:(a.splice(v,1),c--);for(;l>s;)d=r[s].key,d&&(a.push(o(r[s])),e.insertBefore(a[v].element,a[v+1].element),w++,v++,c++),s++;for(s=v=b;l>s;)if(c>v&&(x=a[v].key))v++;else if(d=r[s].key,d!==a[s].key)if(d){if(n(s===v),l-s-k==c-v){for(;;)if(f(a[v]),a.splice(v,1),c--,k++,n(v!==c,"there still need to exist key node"),a[v].key)break;continue}for(;!a[v].key;)v++;n(d!==a[v].key),a.splice(s,0,a[v]),a.splice(v+1,1),e.insertBefore(a[s].element,a[s+1].element),s++,v=s}else if(c>v){if(a.splice(s,0,a[v]),a.splice(v+1,1),d){for(s++;l>s&&(d=r[s].key););if(d)break}a[v]=p(r[s],a[v]),s++,v++}else a.push(o(r[s])),e.appendChild(a[v].element),s++,v++,c++;else{if(d){s++;continue}a[s]=p(r[s],a[s]),s++,s>v&&(v=s)}for(;c>s;)c--,f(a[c]),a.pop()}return a}function h(t){if(S)I(t);else{var n=50/3+z-P();0>n&&(n=0),e.setTimeout(function(){z=P(),t(z-$)},n)}}function y(){J||(J=!0,h(E))}function g(e,t,n){var r=F[e]||[];r.push({priority:t,callback:n}),F[e]=r}function b(e,t,n,r){var o=q[e];if(o)for(var i=0;i<o.length&&!o[i](t,n,r);i++);}function k(t,n){function r(t){t=t||e.event;var r=t.target||t.srcElement,o=s(r);b(n,t,r,o)}"on"+n in t&&(t.addEventListener?t.addEventListener(n,r):t.attachEvent("on"+n,r))}function w(){if(!K){K=!0;for(var e=T(F),t=0;t<e.length;t++){var n=e[t],r=F[n];r=r.sort(function(e,t){return e.priority-t.priority}),q[n]=r.map(function(e){return e.callback})}F=null;for(var o=document.body,i=0;i<e.length;i++)k(o,e[i])}}function x(e){L=e,y()}function E(e){w(),M=e,J=!1;var t=L();H=d(document.body,t,H),m()}function A(e){var t=o(e);return m(),t}function D(e,t){var n=p(e,t);return m(),n}function N(e,t,n){for(;e;){var r=e.component;if(r){var o=r[t];if(o&&o.call(r,e.ctx,n))return!0}var i=e.element.parentNode;e=i?s(i):null}return!1}var B="data-bobril",C={}.toString,j=Array.isArray||function(e){return"[object Array]"===C.call(e)},T=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},U=!1,G=[],O=[],S=!1,I=e.requestAnimationFrame;I&&I(function(e){"number"==typeof e&&(S=!0)});var L,q,F,P=Date.now||function(){return(new Date).getTime()},$=P(),z=0,H=[],J=!1;q={},F={};var K=!1,M=0;return{createNode:A,updateNode:D,init:x,uptime:function(){return M},now:P,invalidate:y,deref:s,addEvent:g,bubble:N}}("undefined"!=typeof window?window:{});