!function(e,n){function t(e){return v===e}function o(){return p}function r(e){v=e}function i(){v=null}function s(n){var t=e.deref(n);return t&&t.attrs&&t.attrs.style&&t.attrs.style.pointerEvents&&"none"==t.attrs.style.pointerEvents}function u(n,t){for(var o=[],r=t;s(r);)o.push({target:r,prevVisibility:r.style.visibility}),r.style.visibility="hidden",r=document.elementFromPoint(n.x,n.y);if(o.length){for(var i=o.length-1;i>=0;--i)o[i].target.style.visibility=o[i].prevVisibility;return e.ieVersion()<9?r.fireEvent("on"+n.type,n):r.dispatchEvent(n),c(n),!0}return!1}function l(e){return"mouse"==e?BobrilPointerType.Mouse:"pen"==e?BobrilPointerType.Pen:BobrilPointerType.Touch}function a(n){return function(t,o,r){var i={id:t.pointerId+2,type:l(t.pointerType),x:t.clientX,y:t.clientY};return e.emitEvent("!"+n,i,o,r)?(c(t),!0):!1}}var p,v=null,c=e.preventDefault,d=e.addEvent;if(e.ieVersion()&&e.ieVersion()<11){var P=["click","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","scroll","wheel"];n.onmspointerdown&&P.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel");for(var f=0;f<P.length;++f)d(P[f],1,u)}n.onpointerdown&&(d("pointerdown",500,a("PointerDown")),d("pointermove",500,a("PointerMove")),d("pointerup",500,a("PointerUp")),d("pointercancel",500,a("PointerCancel"))),n.onmspointerdown&&(d("MSPointerDown",500,a("PointerDown")),d("MSPointerMove",500,a("PointerMove")),d("MSPointerUp",500,a("PointerUp")),d("MSPointerCancel",500,a("PointerCancel"))),n.ontouchstart,d("!PointerDown",500,function(n,t,o){return e.bubble(o,"onPointerDown",n)}),e.registerMouseOwner=r,e.isMouseOwner=t,e.isMouseOwnerEvent=o,e.releaseMouseOwner=i}(b,window);