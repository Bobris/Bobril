!function(e){function r(e){return{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey||!1,which:e.which||e.keyCode}}function t(t,n,u){if(!u)return!1;var i=r(t);return e.bubble(u,"onKeyDown",i)?(t.preventDefault(),!0):!1}function n(t,n,u){if(!u)return!1;var i=r(t);return e.bubble(u,"onKeyUp",i)?(t.preventDefault(),!0):!1}function u(r,t,n){if(!n)return!1;if(0===r.which)return!1;var u={charCode:r.which||r.keyCode};return e.bubble(n,"onKeyPress",u)?(r.preventDefault(),!0):!1}var i=e.addEvent;i("keydown",500,t),i("keyup",500,n),i("keypress",500,u)}(b);