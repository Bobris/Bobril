!function(e,n){function t(e){return k===e}function r(){return M}function o(e){k=e}function i(){k=null}function u(e,n){if(null==k)return!1;var t=k.me.component[e];if(!t)return!1;M=!0;var r=t(k,n);return M=!1,r}function c(e){return e&&e.style&&"none"===e.style.pointerEvents}function l(n){var t=e.deref(n);return c(t)}function s(n,t){for(var r=[],o=t;l(o);)r.push({target:o,prevVisibility:o.style.visibility}),o.style.visibility="hidden",o=document.elementFromPoint(n.x,n.y);if(r.length){for(var i=r.length-1;i>=0;--i)r[i].target.style.visibility=r[i].prevVisibility;if(e.ieVersion()<9)o.fireEvent("on"+n.type,n);else try{o.dispatchEvent(n)}catch(u){return!1}return x(n),!0}return!1}function v(e,n){D(e,500,n)}function f(e){return"mouse"==e?0:"pen"==e?2:1}function a(n,t,r,o){for(var i=[],u=r;c(o);)i.push({target:u,prevVisibility:u.style.visibility}),u.style.visibility="hidden",u=document.elementFromPoint(n,t),o=e.deref(u);if(i.length)for(var l=i.length-1;l>=0;--l)i[l].target.style.visibility=i[l].prevVisibility;return[r,o]}function d(n){return function(t,r,o){if(c(o)){var i=a(t.x,t.y,r,o);r=i[0],o=i[1]}var u={id:t.pointerId,type:f(t.pointerType),x:t.clientX,y:t.clientY};return e.emitEvent("!"+n,u,r,o)?(x(t),!0):!1}}function y(n){return function(t,r,o){for(var i=!1,u=0;u<t.changedTouches.length;u++){var c=t.changedTouches[u],l={id:c.identifier+2,type:1,x:c.clientX,y:c.clientY};e.emitEvent("!"+n,l,r,o)&&(i=!0)}return i?(x(t),!0):!1}}function m(n){return function(t,r,o){if(c(o)){var i=a(t.x,t.y,r,o);r=i[0],o=i[1]}var u={id:1,type:0,x:t.clientX,y:t.clientY};return e.emitEvent("!"+n,u,r,o)?(x(t),!0):!1}}function p(){return!1}function h(){return!1}function g(){return!1}function b(){return!1}function w(){return!1}function P(n){return function(t,r,o){var i={x:t.clientX,y:t.clientY};return u(n,i)||e.bubble(o,n,i)?(x(t),!0):!1}}var M,E,k=null,x=e.preventDefault,D=e.addEvent,V=["PointerDown","PointerMove","PointerUp","PointerCancel"];if(e.ieVersion()&&e.ieVersion()<11){var C=["click","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","scroll","wheel"];for(E=0;E<C.length;++E)D(C[E],1,s)}if(void 0!==n.onpointerdown)for(E=0;E<V.length;E++)!function(e){v(e.toLowerCase(),d(e))}(V[E]);else if(void 0!==n.onmspointerdown)for(E=0;E<V.length;E++)!function(e){v("MS"+e,d(e))}(V[E]);else void 0!==n.ontouchstart&&(v("touchstart",y("PointerDown")),v("touchmove",y("PointerMove")),v("touchend",y("PointerUp")),v("touchcancel",y("PointerCancel"))),v("mousedown",m("PointerDown")),v("mousemove",m("PointerMove")),v("mouseup",m("PointerUp"));for(var O=0;O<V.length;O++)!function(n){var t="on"+n;D("!"+n,500,function(n,r,o){return u(t,n)?!0:e.bubble(o,t,n)})}(V[O]);for(var U=["!PointerDown","!PointerMove","!PointerUp","!PointerCancel","click"],X=[p,h,g,b,w],E=0;E<U.length;E++)D(U[E],300,X[E]);v("mousedown",P("onMouseDown")),v("mouseup",P("onMouseUp")),v("mousemove",P("onMouseMove")),v("click",P("onClick")),v("dblclick",P("onDoubleClick")),v("mouseover",P("onMouseOver")),e.registerMouseOwner=o,e.isMouseOwner=t,e.isMouseOwnerEvent=r,e.releaseMouseOwner=i}(b,window);