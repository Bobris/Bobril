"undefined"==typeof DEBUG&&(DEBUG=!0),Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,o;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(a),o=0;a>o;){var l,f;o in i&&(l=i[o],f=e.call(n,l,o,i),r[o]=f),o++}return r}),b=function(e,t,n){function r(e,t){if(DEBUG&&!e)throw Error(t||"assertion failed")}function o(e,t,r,o){if(!r)return n;for(var i in r){var a=r[i],l=o[i];if(l===n||l!==a)if(o[i]=a,"style"===i){var f;if(l){for(f in a){var c=a[f];l[f]!==c&&(t.style[f]=c)}for(f in l)f in a||(t.style[f]="")}else for(f in a)t.style[f]=a[f]}else if(G)"href"===i?t.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===i?t.setAttribute("class",a):t.setAttribute(i,a);else if("value"===i&&i in t){var u=t[i];l===n&&(e.ctx.b$value=a),a!==u&&(l===n||u===l?t[i]=a:k("input",null,t,e))}else i in t&&"list"!==i&&"form"!==i?t[i]=a:t.setAttribute(i,a)}return o}function i(t){var n=t,r=G,i=O;return n.component&&(n.ctx={data:n.data||{}},n.component.init&&n.component.init(n.ctx,t)),""===t.tag?(n.element=e.document.createTextNode(""+n.content),n):(O||"svg"===t.tag?(n.element=e.document.createElementNS("http://www.w3.org/2000/svg",t.tag),G=!0,O=!0):n.element=e.document.createElement(t.tag),l(n),n.attrs=o(n,n.element,n.attrs,{}),G=r,O=i,u(n),n)}function a(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t?{tag:"",content:e}:e}function l(e){var t=e.children;if(t){T(t)||(t=[t]);for(var n=0,r=t.length;r>n;){var o=t[n];if(T(o))t.splice.apply(t,[n,1].concat(o)),r=t.length;else{var l=t[n]=i(a(o));e.element.appendChild(l.element),n++}}e.children=t}}function f(e){var t=e.children;if(t)for(var n=0,r=t.length;r>n;n++)f(t[n]);e.component&&e.component.destroy&&e.component.destroy(e.ctx,e,e.element),""!==e.tag&&(e.element[C]=null)}function c(e){f(e);var t=e.element.parentNode;t&&t.removeChild(e.element)}function u(e){e.element[C]=e;var t=e.component;t&&t.postInitDom&&(S.push(!1),I.push(e))}function s(e){var t=e.component;t&&t.postUpdateDom&&(S.push(!0),I.push(e))}function p(e){return e[C]}function m(e,t){var n=e.component,r=G,a=O;if(n){if(n.shouldChange&&!n.shouldChange(t.ctx,e,t))return t;t.ctx.data=e.data||{},t.component=n,n.update&&n.update(t.ctx,e,t)}if(e.tag===t.tag)if(""===e.tag){if(t.content===e.content)return t;if(t.content=e.content,"textContent"in t.element)return t.element.textContent=""+t.content,t}else{if("svg"===e.tag&&(G=!0,O=!0),!e.attrs&&!t.attrs||e.attrs&&t.attrs&&U(e.attrs).join()===U(t.attrs).join()&&e.attrs.id===t.attrs.id)return d(e,t),t.attrs&&(t.attrs=o(t,t.element,e.attrs,t.attrs)),G=r,O=a,s(t),t;O=a,G=r}var l=i(e),f=t.element.parentNode;return f&&f.insertBefore(l.element,t.element),c(t),l}function v(){for(var e=I.length,t=0;e>t;t++){var n;S[t]?(n=I[t],n.component.postUpdateDom(n.ctx,n,n.element)):(n=I[t],n.component.postInitDom(n.ctx,n,n.element))}S=[],I=[]}function d(e,t){t.children=h(t.element,e.children,t.children)}function h(e,t,o){t=t||[],T(t)||(t=[t]),o=o||[];for(var l=t.length,f=o.length,u=0;l>u;){var s=t[u];T(s)?(t.splice.apply(t,[u,1].concat(s)),l=t.length):(t[u]=a(s),u++)}var p=f>l?l:f;for(u=0;p>u&&t[u].key===o[u].key;u++)o[u]=m(t[u],o[u]);if(u===p){for(;l>u;)o.push(i(t[u])),e.appendChild(o[u].element),u++;for(;f>u;)f--,c(o[f]),o.pop()}else{var v,d,h,y={},g={},b=u,k=0;for(v=b;f>v;v++)h=o[v],d=h.key,d===n||d in y?k--:y[d]=v;for(;l>u;u++)h=t[u],d=h.key,d===n||d in g?k++:g[d]=u;var w=0;u=b,v=b;for(var x;f>v&&l>u;)if(null!==o[v])if(x=o[v].key){if(d=t[u].key,!d){for(u++;l>u&&!(d=t[u].key););if(!d)break}var E=y[d];E!==n?x in g?v===E+w?(o[v]=m(t[u],o[v]),u++,v++):(o.splice(v,0,o[E+w]),w++,o[E+w]=null,e.insertBefore(o[v].element,o[v+1].element),o[v]=m(t[u],o[v]),v++,f++,u++):(c(o[v]),o.splice(v,1),w--,f--):(o.splice(v,0,i(t[u])),e.insertBefore(o[v].element,o[v+1].element),w++,u++,v++,f++)}else v++;else o.splice(v,1),f--,w--;for(;f>v;)null!==o[v]?o[v].key?(c(o[v]),o.splice(v,1),f--):v++:(o.splice(v,1),f--);for(;l>u;)d=t[u].key,d&&(o.push(i(t[u])),e.insertBefore(o[v].element,o[v+1].element),w++,v++,f++),u++;for(u=v=b;l>u;)if(f>v&&(x=o[v].key))v++;else if(d=t[u].key,d!==o[u].key)if(d){if(r(u===v),l-u-k==f-v){for(;;)if(c(o[v]),o.splice(v,1),f--,k++,r(v!==f,"there still need to exist key node"),o[v].key)break;continue}for(;!o[v].key;)v++;r(d!==o[v].key),o.splice(u,0,o[v]),o.splice(v+1,1),e.insertBefore(o[u].element,o[u+1].element),u++,v=u}else if(f>v){if(o.splice(u,0,o[v]),o.splice(v+1,1),d){for(u++;l>u&&(d=t[u].key););if(d)break}o[v]=m(t[u],o[v]),u++,v++}else o.push(i(t[u])),e.appendChild(o[v].element),u++,v++,f++;else{if(d){u++;continue}o[u]=m(t[u],o[u]),u++,u>v&&(v=u)}for(;f>u;)f--,c(o[f]),o.pop()}return o}function y(t){if(L)q(t);else{var n=50/3+J-z();0>n&&(n=0),e.setTimeout(function(){J=z(),t(J-H)},n)}}function g(){M||(M=!0,y(A))}function b(e,t,n){var r=$[e]||[];r.push({priority:t,callback:n}),$[e]=r}function k(e,t,n,r){var o=P[e];if(o)for(var i=0;i<o.length&&!o[i](t,n,r);i++);}function w(t,n){function r(t){t=t||e.event;var r=t.target||t.srcElement,o=p(r);k(n,t,r,o)}"on"+n in t&&(t.addEventListener?t.addEventListener(n,r):t.attachEvent("on"+n,r))}function x(){if(!Q){Q=!0;for(var e=U($),n=0;n<e.length;n++){var r=e[n],o=$[r];o=o.sort(function(e,t){return e.priority-t.priority}),P[r]=o.map(function(e){return e.callback})}$=null;for(var i=t.body,a=0;a<e.length;a++)w(i,e[a])}}function E(e){F=e,g()}function A(e){x(),R=e,M=!1;var n=F();K=h(t.body,n,K),v()}function N(e){var t=i(e);return v(),t}function D(e,t){var n=m(e,t);return v(),n}function B(e,t,n){for(;e;){var r=e.component;if(r){var o=r[t];if(o&&o.call(r,e.ctx,n))return!0}var i=e.element.parentNode;e=i?p(i):null}return!1}var C="data-bobril",j={}.toString,T=Array.isArray||function(e){return"[object Array]"===j.call(e)},U=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},G=!1,O=!1,S=[],I=[],L=!1,q=e.requestAnimationFrame;q&&q(function(e){"number"==typeof e&&(L=!0)});var F,P,$,z=Date.now||function(){return(new Date).getTime()},H=z(),J=0,K=[],M=!1;P={},$={};var Q=!1,R=0;return{createNode:N,updateNode:D,init:E,isArray:T,uptime:function(){return R},now:z,invalidate:g,vmlNode:function(){return G=!0},deref:p,addEvent:b,bubble:B}}(window,document);