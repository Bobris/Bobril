!function(e){function n(e){var n=e.type;return"checkbox"===n||"radio"===n}function t(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;t>r;r++)if(e[r]!==n[r])return!1;return!0}function r(e,n){for(var t=0;t<e.length;t++)if(e[t]===n)return!0;return!1}function a(e){for(var n=[],t=0;t<e.length;t++)e[t].selected&&n.push(e[t].value);return n}function i(r,c,u){if(c&&"OPTION"===c.nodeName&&(c=document.activeElement,u=e.deref(c)),!u)return!1;var f=u.component;if(!f)return!1;if(!f.onChange)return!1;var v=u.ctx,l=c.tagName,d="SELECT"===l,h=d&&c.multiple;if(h){var s=a(c.options);t(v[o],s)||(v[o]=s,f.onChange(v,s))}else if(n(c)){if(r&&"change"===r.type)return setTimeout(function(){i(null,c,u)},10),!1;if("radio"===c.type)for(var g=document.getElementsByName(c.name),m=0;m<g.length;m++){var p=g[m],x=e.deref(p);if(x){var k=x.component;if(k&&k.onChange){var E=x.ctx,C=p.checked;E[o]!==C&&(E[o]=C,k.onChange(E,C))}}}else{var y=c.checked;v[o]!==y&&(v[o]=y,f.onChange(v,y))}}else{var T=c.value;v[o]!==T&&(v[o]=T,f.onChange(v,T))}return!1}for(var o="b$value",c="value",u=e.setSetValue(function(e,f,v,l){var d=e.tagName,h="SELECT"===d,s="INPUT"===d||"TEXTAREA"===d;if(!s&&!h)return void u(e,f,v,l);void 0===f.ctx&&(f.ctx={}),void 0===l&&(f.ctx[o]=v);var g=h&&e.multiple,m=!1;if(g){var p=e.options,x=a(p);if(!t(v,x))if(void 0===l||t(x,l)||!t(v,f.ctx[o])){for(var k=0;k<p.length;k++)p[k].selected=r(v,p[k].value);x=a(p),t(x,v)&&(m=!0)}else m=!0}else if(s||h)if(s&&n(e)){var E=e.checked;v!==E&&(void 0===l||E===l||v!==f.ctx[o]?e.checked=v:m=!0)}else{var C=h&&e.size<2,y=e[c];v!==y&&(void 0===l||y===l||v!==f.ctx[o]?h?(""===v?e.selectedIndex=C?0:-1:e[c]=v,(""!==v||C)&&(y=e[c],v!==y&&(m=!0))):e[c]=v:m=!0)}m?i(null,e,f):f.ctx[o]=v}),f=["input","cut","paste","keydown","keypress","keyup","click","change"],v=0;v<f.length;v++)e.addEvent(f[v],10,i)}(b);